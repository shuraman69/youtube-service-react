(this["webpackJsonpyoutube-service-2"]=this["webpackJsonpyoutube-service-2"]||[]).push([[0],{112:function(e,t,n){e.exports={container:"Login_container__11zdP"}},124:function(e,t,n){},147:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),s=n(13),a=n.n(s),o=(n(124),n(125),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,155)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),s(e),a(e)}))}),c=n(46),u=n(20),l=n(56),d=n(107),j=n(17),b=[{id:"0",login:"aaa",password:"111"},{id:"1",login:"bbb",password:"222"},{id:"2",login:"ccc",password:"333"},{id:"3",login:"ddd",password:"444"}],v=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<32;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},f=n(45),O=n.n(f),h=n(59),g=n(118),m=n(108),p=n.n(m).a.create({baseURL:"https://www.googleapis.com/youtube/v3",params:{part:"snippet",maxResults:12,key:"AIzaSyDLK5r6VqlNd-jbtEBiCWOnWreYLIIcFb0"}}),x=function(e){return p.get("/search",{params:{q:e}})},_=function(e,t){return p.get("/search",{params:{q:e,maxResults:t}})},R="SET_VIDEOS",S="SET_VIDEO_DETAIL",q={videos:{items:[],totalResult:null,searchRequest:null},videoId:""},I=function(e,t,n){return{type:R,videos:e,totalResults:t,request:n}},w=function(e){return{type:S,videoId:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(j.a)(Object(j.a)({},e),{},{videos:{items:t.videos,totalResult:t.totalResults,searchRequest:t.request}});case S:return Object(j.a)(Object(j.a)({},e),{},{videoId:t.videoId});default:return e}},y="SET_VIDEOS",V="SET_FAVORITE_FROM_LOCAL_STORAGE",N="EDIT_FAVORITE_REQUEST",k={favoriteRequests:[]},F=function(e){return{type:V,favoriteRequests:e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return void 0===t.favoriteRequest?e:Object(j.a)(Object(j.a)({},e),{},{favoriteRequests:[].concat(Object(g.a)(e.favoriteRequests),[t.favoriteRequest])});case V:return Object(j.a)(Object(j.a)({},e),{},{favoriteRequests:t.favoriteRequests});case N:return Object(j.a)(Object(j.a)({},e),{},{favoriteRequests:e.favoriteRequests.map((function(e){if(e.id==t.id)return Object(j.a)(Object(j.a)({},e),{},{request:t.newRequest,requestName:t.newRequestName,range:t.newRange})}))});default:return e}},L="LOGIN",T="LOG_OUT",D=b,A={user:{login:null,password:null,token:null}},J=function(e,t,n){return{type:L,login:e,password:t,token:n}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(j.a)(Object(j.a)({},e),{},{user:{login:t.login,password:t.password,token:t.token}});case T:return Object(j.a)(Object(j.a)({},e),{},{user:{login:null,password:null,token:null}});default:return e}},B=Object(l.c)({login:P,search:C,favorite:E}),W=Object(l.d)(B,Object(l.a)(d.a));window.store=W;var z=n(19),M=(n(147),n(152)),G=n(65),H=n(11),K=n(154),U=n(2),X=function(){return Object(U.jsxs)(K.a,{theme:"dark",mode:"horizontal",children:[Object(U.jsx)(K.a.Item,{children:Object(U.jsx)(c.b,{to:"/search",children:"\u041f\u043e\u0438\u0441\u043a"})},"1"),Object(U.jsx)(K.a.Item,{children:Object(U.jsx)(c.b,{to:"/favorite",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})},"2"),Object(U.jsx)(K.a.Item,{children:Object(U.jsx)(c.b,{to:"/login",children:"\u041b\u043e\u0433\u0438\u043d"})},"3")]})},Z=n(112),Q=n.n(Z),Y=n(64),$=n.n(Y),ee=function(e){var t=e.onSubmit,n=e.loginValue,i=e.passwordValue,r=e.onLoginChange,s=e.onPasswordChange;return Object(U.jsxs)("form",{style:$.a,onSubmit:function(e){return t(e)},children:[Object(U.jsx)("label",{htmlFor:"login",children:Object(U.jsx)("input",{value:n,onChange:function(e){return r(e)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043b\u043e\u0433\u0438\u043d"})}),Object(U.jsx)("label",{htmlFor:"password",children:Object(U.jsx)("input",{value:i,onChange:function(e){return s(e)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(U.jsx)("button",{type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})},te=Object(u.b)((function(e){return{userLogin:e.login.user.login}}),{loginThunk:function(e,t){return function(n,i){D.forEach((function(r){if(r.login===e&&r.password===t){var s=v();n(J(e,t,s));var a=i().login.user;localStorage.setItem("user",JSON.stringify(a)),alert("\u0412\u044b \u0432\u043e\u0448\u043b\u0438!")}}));var r=JSON.parse(localStorage.getItem(e));n(F(null!==r?r:[]))}}})((function(e){var t=e.userLogin,n=e.loginThunk,r=Object(i.useState)(""),s=Object(z.a)(r,2),a=s[0],o=s[1],c=Object(i.useState)(""),u=Object(z.a)(c,2),l=u[0],d=u[1];return t?Object(U.jsx)(H.a,{to:"/search"}):Object(U.jsx)(ee,{passwordValue:l,loginValue:a,onSubmit:function(e){e.preventDefault(),n(a,l)},onPasswordChange:function(e){d(e.target.value)},onLoginChange:function(e){o(e.target.value)}})})),ne=function(){return Object(U.jsx)("div",{className:Q.a.container,children:Object(U.jsx)(te,{})})},ie=function(e){var t=e.onSaveFavoriteClick,n=e.onSubmit,i=e.searchValue,r=e.onSearchChange;return Object(U.jsxs)("form",{onSubmit:function(e){return n(e)},style:$.a,children:[Object(U.jsxs)("label",{htmlFor:"search",children:[Object(U.jsx)("input",{value:i,onChange:r,placeholder:"\u0427\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c?",type:"text",name:"search"}),Object(U.jsx)("span",{onClick:function(){return t()},className:$.a.customInput})]}),Object(U.jsx)("button",{type:"submit",children:"\u041f\u043e\u0438\u0441\u043a"})]})},re=Object(u.b)(null,{getVideosThunk:function(e){return function(){var t=Object(h.a)(O.a.mark((function t(n){var i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:i=t.sent,n(I(i.data.items,i.data.pageInfo.totalResults,e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getVideosThunk,n=e.setVisible,r=e.setSubmitId,s=Object(i.useState)(""),a=Object(z.a)(s,2),o=a[0],c=a[1];return Object(U.jsx)(ie,{onSaveFavoriteClick:function(){n(!0),r(0)},onSubmit:function(e){e.preventDefault(),t(o)},onSearchChange:function(e){c(e.target.value)},searchValue:o,setSearchValue:c})})),se=n(58),ae=n.n(se),oe=Object(u.b)((function(e){return{totalResult:e.search.videos.totalResult,searchRequest:e.search.videos.searchRequest}}),{})((function(e){var t=e.setIsColumn,n=e.searchRequest,i=e.totalResult;return Object(U.jsxs)("div",{className:ae.a.container,children:[Object(U.jsx)("div",{className:ae.a.results,children:Object(U.jsx)("span",{children:"\u0412\u0438\u0434\u0435\u043e \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443: ".concat(n,"   ").concat(i)})}),Object(U.jsxs)("div",{className:ae.a.view,children:[Object(U.jsx)("span",{onClick:function(){return t(!0)},className:ae.a.view_list}),Object(U.jsx)("span",{onClick:function(){return t(!1)},className:ae.a.view_grid})]})]})})),ce=n(35),ue=n.n(ce),le=function(e){var t=e.video,n=e.isColumn,i=e.onVideoClick,r=t.snippet.thumbnails.medium.url,s=t.snippet.description,a=t.snippet.description,o=t.snippet.title,c=t.id.videoId;return Object(U.jsxs)("div",{onClick:function(){return i(c)},className:n?ue.a.item_list:ue.a.item_grid,children:[Object(U.jsx)("div",{className:ue.a.img_list,children:Object(U.jsx)("img",{src:r,alt:s})}),Object(U.jsxs)("div",{className:n?ue.a.text_list:ue.a.text_grid,children:[Object(U.jsx)("div",{children:o}),Object(U.jsx)("p",{children:a})]})]})},de=function(e){var t=e.videosArray,n=e.isColumn,i=e.onVideoClick;return Object(U.jsx)("div",{className:n?ue.a.video_container_list:ue.a.video_container_grid,children:t.length?t.map((function(e,t){return Object(U.jsx)(le,{onVideoClick:i,isColumn:n,video:e},t)})):"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441"})},je=Object(u.b)((function(e){return{videos:e.search.videos.items}}),{setVideoId:function(e){return function(){var t=Object(h.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(w(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.videos,n=e.setVideoId,r=Object(i.useState)(!1),s=Object(z.a)(r,2),a=s[0],o=s[1],c=Object(H.f)();return Object(U.jsxs)("div",{children:[Object(U.jsx)(oe,{isColumn:a,setIsColumn:o}),Object(U.jsx)(de,{onVideoClick:function(e){n(e),c.push("/videoDetail")},videosArray:t,isColumn:a})]})})),be=n(153),ve=function(e){var t=e.onRequestValueChange,n=e.onRangeValueChange,i=e.onRequestNameValueChange,r=e.request,s=e.requestName,a=e.range,o=e.onSubmit;return Object(U.jsxs)("form",{onSubmit:o,children:[Object(U.jsxs)("label",{htmlFor:"request",children:["\u0417\u0430\u043f\u0440\u043e\u0441",Object(U.jsx)("input",{onChange:function(e){return t(e)},value:r,type:"text",name:"request"})]}),Object(U.jsxs)("label",{htmlFor:"requestName",children:["*\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Object(U.jsx)("input",{onChange:function(e){return i(e)},value:s,type:"text",name:"requestName"})]}),Object(U.jsxs)("label",{htmlFor:"range",children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",Object(U.jsx)("input",{onChange:function(e){return n(e)},type:"range",name:"range",min:"0",max:"50",value:a})]}),Object(U.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},fe=function(e){var t=e.visible,n=e.setVisible,i=e.request,r=e.requestName,s=e.range,a=e.setRange,o=e.setRequest,c=e.setRequestName,u=e.submitId,l=e.onSearchSubmit,d=e.onEditSubmit;return Object(U.jsx)(be.a,{visible:t,title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",onCancel:function(){return n(!1)},footer:[null],children:Object(U.jsx)(ve,{onRequestValueChange:function(e){o(e.target.value)},onRequestNameValueChange:function(e){c(e.target.value)},onRangeValueChange:function(e){a(e.target.value)},request:i,requestName:r,range:s,onSubmit:function(e){return console.log(u),1===u?d(e):l(e)}})})},Oe=M.a.Content,he=Object(u.b)(null,{saveFavoriteRequest:function(e){return function(t,n){e.id=function(e){return e().favorite.favoriteRequests.length}(n),t(function(e){return{type:y,favoriteRequest:e}}(e))}}})((function(e){var t=e.totalResult,n=e.saveFavoriteRequest,r=e.submitId,s=e.setSubmitId,a=Object(i.useState)(!1),o=Object(z.a)(a,2),c=o[0],u=o[1],l=Object(i.useState)(""),d=Object(z.a)(l,2),j=d[0],b=d[1],v=Object(i.useState)(""),f=Object(z.a)(v,2),O=f[0],h=f[1],g=Object(i.useState)(12),m=Object(z.a)(g,2),p=m[0],x=m[1];return Object(U.jsx)(M.a,{className:"layout",children:Object(U.jsxs)(Oe,{children:[Object(U.jsx)(re,{setSubmitId:s,setVisible:u}),t?Object(U.jsx)(je,{}):null,Object(U.jsx)(fe,{request:j,requestName:O,range:p,setRequest:b,setRequestName:h,setRange:x,setVisible:u,visible:c,onSearchSubmit:function(e){e.preventDefault(),n({request:j,requestName:O,range:p}),u(!1)},submitId:r})]})})})),ge=n(87),me=n.n(ge),pe=function(e){var t=e.favoriteRequests,n=e.onFavoriteClick,i=e.onEditClick;return Object(U.jsx)("ul",{className:me.a.ul,children:t.length?t.map((function(e){return Object(U.jsxs)("div",{children:[Object(U.jsx)("li",{onClick:function(){n(e.id)},className:me.a.li,id:e.id,children:e.requestName},e.id),Object(U.jsx)("span",{className:me.a.edit,onClick:function(){return i(e.id)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u2191"})]})})):"\u0412\u044b \u0435\u0449\u0435 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438"})},xe=Object(u.b)((function(e){return{favoriteRequests:e.favorite.favoriteRequests}}),{getVideosOnFavoriteRequest:function(e,t){return function(){var n=Object(h.a)(O.a.mark((function n(i){var r;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_(e,t);case 2:r=n.sent,i(I(r.data.items,r.data.pageInfo.totalResults,e));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},editFavoriteRequest:function(e,t,n,i){return function(r){r(function(e,t,n,i){return{type:N,id:e,newRequest:t,newRequestName:n,newRange:i}}(e,t,n,i))}}})((function(e){var t=e.favoriteRequests,n=e.getVideosOnFavoriteRequest,r=e.editFavoriteRequest,s=e.setSubmitId,a=e.submitId,o=Object(H.f)(),c=Object(i.useState)(!1),u=Object(z.a)(c,2),l=u[0],d=u[1],j=Object(i.useState)(""),b=Object(z.a)(j,2),v=b[0],f=b[1],O=Object(i.useState)(""),h=Object(z.a)(O,2),g=h[0],m=h[1],p=Object(i.useState)(12),x=Object(z.a)(p,2),_=x[0],R=x[1],S=Object(i.useState)(null),q=Object(z.a)(S,2),I=q[0],w=q[1];return Object(U.jsxs)("div",{children:[Object(U.jsx)(pe,{setVisible:d,onEditClick:function(e){w(e),s(1),d(!0)},onFavoriteClick:function(e){t.forEach((function(t){t.id===e&&(n(t.request,t.range),o.push("/search"))}))},favoriteRequests:t}),Object(U.jsx)(fe,{request:v,requestName:g,range:_,setRequest:f,setRequestName:m,setRange:R,setVisible:d,visible:l,onEditSubmit:function(e){e.preventDefault(),r(I,v,g,_),d(!1)},submitId:a})]})})),_e={width:"800px",margin:"0 auto"},Re={width:"600px",height:"300px",margin:"0 auto"},Se=function(e){var t=e.videoId;return Object(U.jsx)("div",{style:_e,children:Object(U.jsx)("iframe",{style:Re,src:"https://www.youtube.com/embed/".concat(t),frameborder:"0"})})},qe=M.a.Header,Ie=M.a.Content,we={display:"flex",justifyContent:"space-between"},Ce={marginTop:"15px"};var ye=function(e){var t=e.login,n=e.logout,i=e.totalResult,r=e.videoId,s=e.setSubmitId,a=e.submitId;return Object(U.jsxs)(M.a,{className:"layout",children:[Object(U.jsx)(qe,{style:{marginBottom:"20px"},children:Object(U.jsxs)("div",{style:we,children:[Object(U.jsx)(X,{}),Object(U.jsx)("div",{style:{color:"white"},children:t?Object(U.jsx)("h3",{style:{color:"white",margin:0},children:t}):"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"}),Object(U.jsx)(G.a,{onClick:function(){return n()},style:Ce,type:"primary",children:"\u0412\u044b\u0439\u0442\u0438"})]})}),Object(U.jsx)(Ie,{style:{padding:"0 50px",minHeight:"700px"},children:Object(U.jsxs)("div",{className:"site-layout-content",children:[Object(U.jsx)(H.b,{path:"/login",render:ne}),Object(U.jsx)(H.b,{path:"/search",render:function(){return t?Object(U.jsx)(he,{submitId:a,setSubmitId:s,totalResult:i}):Object(U.jsx)(H.a,{to:"/login"})}}),Object(U.jsx)(H.b,{path:"/favorite",render:function(){return t?Object(U.jsx)(xe,{submitId:a,setSubmitId:s}):Object(U.jsx)(H.a,{to:"/login"})}}),Object(U.jsx)(H.b,{path:"/videoDetail",render:function(){return Object(U.jsx)(Se,{videoId:r})}})]})})]})},Ve=Object(u.b)((function(e){return{userLogin:e.login.user.login,totalResult:e.search.videos.totalResult,videoId:e.search.videoId}}),{logoutThunk:function(){return function(e,t){var n=t().favorite.favoriteRequests;localStorage.removeItem("user"),n&&n.length>0&&localStorage.setItem(t().login.user.login,JSON.stringify(t().favorite.favoriteRequests)),e({type:T})}},setFavoriteFromLocalStorage:F,loginAC:J})((function(e){var t=e.userLogin,n=e.loginAC,r=e.totalResult,s=e.logoutThunk,a=e.setFavoriteFromLocalStorage,o=e.videoId,c=Object(u.c)();Object(i.useEffect)((function(){if(localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("user")),t=e.login,i=e.password,r=e.token;c(n(t,i,r));var s=JSON.parse(localStorage.getItem(t));c(a(null!==s?s:[]))}}),[]);var l=Object(i.useState)(null),d=Object(z.a)(l,2),j=d[0],b=d[1];return Object(U.jsx)(ye,{submitId:j,setSubmitId:b,totalResult:r,login:t,logout:s,videoId:o})}));a.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(c.a,{children:Object(U.jsx)(u.a,{store:W,children:Object(U.jsx)(Ve,{})})})}),document.getElementById("root")),o()},35:function(e,t,n){e.exports={item_list:"Video_item_list__1Z2b8",item_grid:"Video_item_grid__aRX6n",grid:"Video_grid__1LP7b",list:"Video_list__3VZmV",text_list:"Video_text_list__2OtwK",text_grid:"Video_text_grid__36HsN",video_container_list:"Video_video_container_list__3NEz7",video_container_grid:"Video_video_container_grid__KJc8u"}},58:function(e,t,n){e.exports={container:"SearchResult_container__3N0WC",results:"SearchResult_results__1fpuW",view:"SearchResult_view__3BJPN",view_list:"SearchResult_view_list__17DJL",view_grid:"SearchResult_view_grid__1s1_V"}},64:function(e,t,n){e.exports={customInput:"LoginForm_customInput__DW6u_"}},87:function(e,t,n){e.exports={li:"FavoriteContainer_li__29elB",edit:"FavoriteContainer_edit__2Vb8X"}}},[[150,1,2]]]);
//# sourceMappingURL=main.43699073.chunk.js.map